<link
  rel="stylesheet"
  href="components/enter-bills-view/bills-section/add-bill-modal/add-bill.css"
>

<modal-skeleton
  modal-name="{{$ctrl.modalName}}"
  title="Add Bill"
  has-success="$ctrl.hasSuccess"
  has-danger="false"
  reset="$ctrl.reset"
>

  <modal-body>

    <form ng-if="!$ctrl.hasSuccess" id="{{$ctrl.FORM_NAME}}">
      <div class="form-group">
        <label for="{{$ctrl.nameInputName}}">
          Bill Name <span class="normal">(Optional)</span>
        </label>
        <input
          type="text"
          class="form-control"
          id="{{$ctrl.nameInputName}}"
          placeholder="Give the bill a nickname..."
          ng-model="$ctrl.nameInputValue"
          ng-change="$ctrl.updateButtonDisable()"
          ng-disabled="$ctrl.isInputDisabled"
        >
      </div>
      <div class="form-group amount">
        <label for="{{$ctrl.AMOUNT_INPUT_NAME}}">
          Bill Total <span class="normal">(US Dollars)</span>
        </label>
        <input
          type="number"
          class="form-control"
          id="{{$ctrl.AMOUNT_INPUT_NAME}}"
          ng-model="$ctrl.amountInputValue"
          ng-disabled="$ctrl.isInputDisabled"
          ng-change="$ctrl.updateAmountDisplay()"
        >
        <div ng-if="$ctrl.amountDisplayValue !== null" id="formatted-amount-display">
          $ {{$ctrl.amountDisplayValue}}
        </div>
      </div>
    </form>

    <alert ng-if="$ctrl.hasSuccess" theme="success">
      <h4>Success!</h4>
      The bill <span class="name person">"{{$ctrl.newBill.name}}"</span> was added
      to this list.
    </alert>

  </modal-body>

  <!-- Footer also has cancel button (from modal skeleton) in addition to unique content defined below -->
  <modal-footer>
    <button
      ng-click="$ctrl.hasSuccess ? $ctrl.addAnotherParticipant() : $ctrl.submitForm()"
      type="{{$ctrl.hasSuccess ? 'button' : 'submit'}}"
      form="{{$ctrl.FORM_NAME}}"
      class="btn btn-primary"
      ng-disabled="$ctrl.isButtonDisabled && !$ctrl.hasSuccess"
    >
      {{$ctrl.hasSuccess ? 'Add another participant' : '+Add'}}
    </button>
  </modal-footer>

</modal-skeleton>